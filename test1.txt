import React, { useState } from 'react';
import { dotBaseStyle, dotHoverStyle } from './FloatingDot.styles';
import { DOT_ID } from '../../utils/constants';

/**
 * @param {{
 * rect: DOMRect;
 * onHover: () => void;
 * }} props
 */
export const FloatingDot = ({ rect, onHover }) => {
  const [isHovered, setHovered] = useState(false);
  
  const style = {
    ...dotBaseStyle,
    ...(isHovered ? dotHoverStyle : {}),
    top: `${window.scrollY + rect.top - 14}px`,
    left: `${window.scrollX + rect.left - 4}px`,
  };
  
  return (
    <div
      id={DOT_ID}
      style={style}
      onMouseEnter={() => {
        setHovered(true);
        onHover();
      }}
      onMouseLeave={() => setHovered(false)}
    />
  );
};



export const dotBaseStyle = {
  position: 'absolute',
  width: '8px',
  height: '8px',
  background: '#3b82f6', // blue-500
  borderRadius: '50%',
  zIndex: 2147483647,
  boxShadow: '0 1px 4px rgba(0,0,0,0.13)',
  cursor: 'pointer',
  transition: 'background 0.2s, transform 0.2s',
};

export const dotHoverStyle = {
  background: '#2563eb', // blue-600
  transform: 'scale(1.2)',
};
